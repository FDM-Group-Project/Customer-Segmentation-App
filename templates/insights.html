<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css" rel="stylesheet" />

    <!-- MDB -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='graphs.css') }}">
    </link>

    <link rel="stylesheet" href="{{ url_for('static', filename='graphs.css') }}">
    </link>

    <link rel="stylesheet" href="{{ url_for('static', filename='mailbox.css') }}">
    </link>

    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <title>Insights</title>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <!-- Container wrapper -->
        <div class="container">
            <!-- Navbar brand -->
            <a class="navbar-brand me-2" href="https://mdbgo.com/">
                <img src="https://th.bing.com/th/id/R.bd85189c046cb72b799a7ff1346182ce?rik=HXUnIU8oJx2gkQ&pid=ImgRaw&r=0"
                    height="50" alt="" loading="lazy" style="margin-top: -1px;" />
            </a>

            <!-- Toggle button -->
            <button class="navbar-toggler" type="button" data-mdb-toggle="collapse"
                data-mdb-target="#navbarButtonsExample" aria-controls="navbarButtonsExample" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Collapsible wrapper -->
            <div class="collapse navbar-collapse" id="navbarButtonsExample">
                <!-- Left links -->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="https://customersegmentationapp.herokuapp.com/">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://customersegmentationapp.herokuapp.com/insights">Insights</a>
                    </li>
                </ul>
                <!-- Left links -->

                <div class="d-flex align-items-center">
                    <button type="button" class="btn btn-link px-3 me-2" disabled>
                        Login
                    </button>
                    <button type="button" class="btn btn-primary me-3" disabled>
                        Sign up for free
                    </button>
                    <a class="btn btn-dark px-3" href="" role="button"><i class="fab fa-github"></i></a>
                </div>
            </div>
            <!-- Collapsible wrapper -->
        </div>
        <!-- Container wrapper -->
    </nav>
    <!-- Navbar -->

    <div class="container2">

        <div>
            <img src="https://image.freepik.com/free-vector/customer-managers-working-with-customers-pie-charts-devices-customer-segmentation-internet-marketing-tool-target-audience-collection-concept-bright-vibrant-violet-isolated-illustration_335657-232.jpg"
                height="200px" alt="" loading="lazy" style="margin-top: -1px;" />
        </div>

        <div>
            <p>Maintain a profit margin and generate demand for the
                product by providing only the benefits that customers value. The challenge is
                aligning the right value proposition with the right consumers.”

                The number one challenge faced by all marketers is to understand who they are selling to. So
                when we know our buyers’ identity we can customize our targeting and offerings to increase their
                satisfaction and our revenue as a result. So we segment credit card customers into distinctive groups.
                This information is not only helpful for the bank tounderstand the related characteristics of different
                customers but also marketing representatives to find potential customers and to implement target
                marketing.</p>
        </div>
    </div>

    <div class="container3">

        <div>
            <p>Please Enter your Details..</p>
        </div>

        <div>
            <form id="analyze_form" class="row gy-2 gx-3 align-items-center"
                style="margin: 30px; align-content: center;" method="POST" action="{{ url_for('handle_data') }}">

                <div class="col-auto">
                    <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton"
                            data-mdb-toggle="dropdown" aria-expanded="false">
                            Choose Action...
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <li><a class="dropdown-item" href="#" onclick="setActionType(this);">Release</a></li>
                            <li><a class="dropdown-item" href="#" onclick="setActionType(this);">Offer</a></li>
                            <input type="hidden" id="selected_action" name="selected_action" value=""></input>
                        </ul>
                    </div>
                </div>

                <div class="col-auto">
                    <h6 id="selected_action_header">...</h6>
                </div>

                <div class="col-auto">
                    <div class="form-outline">
                        <input type="text" id="price" name="price" class="form-control" value="" />
                        <label class="form-label" for="form11Example3"> Price </label>
                    </div>
                </div>
                <div class="col-auto">
                    <div class="form-check form-switch">
                        <label class="form-check-label" for="form11Example4">Allow installments</label>
                        <input class="form-check-input" type="checkbox" id="allowInstallments" name="allowInstallments"
                            checked />
                    </div>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-primary" onclick="getBestCluster(this);">Search Best
                        Cluster</button>
                </div>
            </form>
            <h1 hidden id="best_cluster" name="best_cluster" value="">{{best_cluster}}</h1>
        </div>


        <div>
            <h6>You can download the List of Eligible Customer's IDs here</h6>
        </div>
        <div>
            <div id="change">
                <button type="button" class="btn btn-dark" onclick="download_csv(this);">Download</button>
            </div>
        </div>
    </div>

    <div class="container4">
        <div>
            <canvas id="chart_1" width="200px" height="200px"></canvas>
        </div>

        <div>
            <div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
                <div class="card-header">Customers</div>
                <div class="card-body">
                    <h1 class="card-title" id="total_customers">0</h1>
                    <p class="card-text">
                        Total Number of Customers Includes in this customer segment
                    </p>
                </div>
            </div>

            <div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
                <div class="card-header">Frequent Buyers</div>
                <div class="card-body">
                    <h1 class="card-title" id="frequent_buyers">0</h1>
                    <p class="card-text">
                        Number of Customers who made purchases very frequently.
                        They have high chance of purchasing an Item
                    </p>
                </div>
            </div>
        </div>

        <div>
            <div class="card text-white bg-dark mb-3" style="max-width: 18rem;">
                <div class="card-header">Prefer-Installments</div>
                <div class="card-body">
                    <h1 class="card-title" id="installment-prefer">0</h1>
                    <p class="card-text">
                        Number of Customers who prefer to pay by installments among the frequent Buyers
                    </p>
                </div>
            </div>

            <div class="card text-white bg-primary mb-3" style="max-width: 18rem;">
                <div class="card-header">Cash-On Pefer</div>
                <div class="card-body">
                    <h1 class="card-title" id="cash-prefer">0</h1>
                    <p class="card-text">
                        Number of customers who prefer to purchase an item with one go , among the
                        frequent buyers
                    </p>
                </div>
            </div>

        </div>

        <div>
            <canvas id="chart_2" width="200px" height="200px"></canvas>
        </div>
    </div>

    <div class="container2">
        <div>1</div>
        <div>
            <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
            <br>
            <br>
            <div>
                <main>
                    <p class="text-center">New Message</p>
                    <form>
                        <div class="form-row mb-3">
                            <label for="cc" class="col-2 col-sm-1 col-form-label">CC:</label>
                            <div class="col-10 col-sm-11">
                                <input type="email" class="form-control" id="cc" placeholder="Type email">
                            </div>
                        </div>
                        <div class="form-row mb-3">
                            <label for="bcc" class="col-2 col-sm-1 col-form-label">BCC:</label>
                            <div class="col-10 col-sm-11">
                                <input type="email" class="form-control" id="bcc" placeholder="Type email">
                            </div>
                        </div>
                    </form>
                    <div class="row">
                        <div class="col-sm-11 ml-auto">
                            <div class="toolbar" role="toolbar">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-bold"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-italic"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-underline"></span>
                                    </button>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-align-left"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-align-right"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-align-center"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-align-justify"></span>
                                    </button>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-indent"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-outdent"></span>
                                    </button>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-list-ul"></span>
                                    </button>
                                    <button type="button" class="btn btn-light">
                                        <span class="fa fa-list-ol"></span>
                                    </button>
                                </div>
                                <button type="button" class="btn btn-light">
                                    <span class="fa fa-trash-o"></span>
                                </button>
                                <button type="button" class="btn btn-light">
                                    <span class="fa fa-paperclip"></span>
                                </button>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown">
                                        <span class="fa fa-tags"></span>
                                        <span class="caret"></span>
                                    </button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">add label <span class="badge badge-danger">
                                                Home</span></a>
                                        <a class="dropdown-item" href="#">add label <span class="badge badge-info">
                                                Job</span></a>
                                        <a class="dropdown-item" href="#">add label <span class="badge badge-success">
                                                Clients</span></a>
                                        <a class="dropdown-item" href="#">add label <span class="badge badge-warning">
                                                News</span></a>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group mt-4">
                                <textarea class="form-control" id="message" name="body" rows="12"
                                    placeholder="Click here to reply"></textarea>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-success">Send</button>
                                <button type="submit" class="btn btn-light">Draft</button>
                                <button type="submit" class="btn btn-danger">Discard</button>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>

    </div>

    <script type="text/javascript" src="{{ url_for('static', filename='insights.js') }}"></script>

</body>

</html>